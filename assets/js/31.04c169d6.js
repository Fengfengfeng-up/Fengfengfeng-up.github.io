(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{421:function(t,e,v){"use strict";v.r(e);var _=v(11),c=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"html-中的-javascript"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#html-中的-javascript"}},[t._v("#")]),t._v(" HTML 中的 JavaScript")]),t._v(" "),v("h2",{attrs:{id:"script-元素"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#script-元素"}},[t._v("#")]),t._v(" "),v("code",[t._v("<script>")]),t._v(" 元素")]),t._v(" "),v("p",[t._v("在 JavaScript 早期，Netscape 公司创造出了 "),v("code",[t._v("<script>")]),t._v(" 元素，用以将 JavaScript 插入到 HTML 页面中，现已加入 HTML 规范。它主要有以下属性和特点。")]),t._v(" "),v("h3",{attrs:{id:"可选属性"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#可选属性"}},[t._v("#")]),t._v(" 可选属性")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"center"}},[t._v("属性名")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("作用脚本类型")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("async")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("false")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("异步执行脚本")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("charset")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v('""')])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("指定代码字符集（不常用）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部 / 行内")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("crossorigin")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("null")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("配置请求的 "),v("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/CORS",target:"_blank",rel:"noopener noreferrer"}},[t._v("CORS"),v("OutboundLink")],1),t._v(" 设置")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("defer")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("false")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("推迟执行脚本")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部 / 行内（ IE7 及以下）")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("integrity")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v('""')])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("检查获取的资源是否被篡改")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("language")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}}),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("s",[t._v("表示代码块中的脚本语言")]),t._v(" （已废弃）")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("src")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v('""')])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("表示要执行的外部文件地址")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v('""')])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("表示脚本语言的 "),v("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types",target:"_blank",rel:"noopener noreferrer"}},[t._v("MIME 类型"),v("OutboundLink")],1)]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("外部 / 行内")])])])]),t._v(" "),v("h3",{attrs:{id:"特点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),v("ol",[v("li",[t._v("可以在 "),v("code",[t._v("<script>")]),t._v(" 元素内嵌入 JavaScript 代码，也可通过设置它的 "),v("code",[t._v("src")]),t._v(" 属性中引入外部 JavaScript 文件。")]),t._v(" "),v("li",[t._v("浏览器解析使用 "),v("code",[t._v("src")]),t._v(" 属性的 "),v("code",[t._v("<script>")]),t._v(" 元素时，会向该属性值指代的地址发送一个 GET 请求以取得相应资源，这个请求不受浏览器同源策略限制，返回并被执行的 JavaScript 则受限制。")]),t._v(" "),v("li",[t._v("使用 "),v("code",[t._v("defer")]),t._v(" 属性的脚本会推迟到文档渲染完毕后再执行。多个推迟脚本原则上按照它们在页面中出现的顺序执行。")]),t._v(" "),v("li",[t._v("使用 "),v("code",[t._v("async")]),t._v(" 属性的异步脚本不需要等待其他脚本，同时也不阻塞文档渲染，不能保证按照它们在页面中出现的顺序执行。")]),t._v(" "),v("li",[t._v("所有不使用 "),v("code",[t._v("async")]),t._v(" / "),v("code",[t._v("defer")]),t._v(" 属性的 "),v("code",[t._v("<script>")]),t._v(" 元素会按照它们出现的顺序被解释。")]),t._v(" "),v("li",[t._v("包含在 "),v("code",[t._v("<script>")]),t._v(" 元素内的代码会被从上至下解释。")]),t._v(" "),v("li",[t._v("只要是不使用 "),v("code",[t._v("async")]),t._v(" / "),v("code",[t._v("defer")]),t._v(" 属性的 "),v("code",[t._v("<script>")]),t._v(" 元素都会阻塞浏览器解析后面的内容。")]),t._v(" "),v("li",[t._v("可以使用 DOM API 动态创建以异步方式加载 "),v("code",[t._v("<script>")]),t._v(" 元素。")])]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("注意事项")]),t._v(" "),v("ul",[v("li",[t._v("使用行内 JavaScript 代码时，字符串 "),v("code",[t._v("<\/script>")]),t._v(" 需要进行转义，正确书写为 "),v("code",[t._v("<\\/script>")]),t._v("。")]),t._v(" "),v("li",[t._v("解释外部 JavaScript 文件时，阻塞时间也包含下载文件的时间。")]),t._v(" "),v("li",[t._v("当在使用 src 属性的 "),v("code",[t._v("<script>")]),t._v(" 元素中再包含 JavaScript 代码时，浏览器只会下载并执行外部脚本文件，忽略行内代码。")]),t._v(" "),v("li",[t._v("只有使用 "),v("code",[t._v("type")]),t._v(" 属性值为 "),v("code",[t._v("module")]),t._v(" 的 "),v("code",[t._v("<script>")]),t._v(" 元素内才能使用 ES6 模块语法。")])])]),t._v(" "),v("h2",{attrs:{id:"noscript-元素"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#noscript-元素"}},[t._v("#")]),t._v(" "),v("code",[t._v("<noscript>")]),t._v(" 元素")]),t._v(" "),v("p",[v("code",[t._v("<noscript>")]),t._v(" 元素被用于给不支持或禁用 JavaScript 的浏览器提供替代内容，从而实现优雅降级。它可以包含除了 "),v("code",[t._v("<script>")]),t._v(" 以外任何可以出现在 "),v("code",[t._v("<body>")]),t._v(" 中的 HTML 元素。")]),t._v(" "),v("h2",{attrs:{id:"最佳实践"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[t._v("#")]),t._v(" 最佳实践")]),t._v(" "),v("ul",[v("li",[t._v("尽可能将 JavaScript 代码放在外部文件中，按需通过 "),v("code",[t._v("<script>")]),t._v(" 标签对 JavaScript 代码进行分发，比如 "),v("a",{attrs:{href:"https://www.cdnetworks.com/what-is-a-cdn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Content Delivery Network (CDN)"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("li",[t._v("最好将 "),v("code",[t._v("<script>")]),t._v(" 标签放在 "),v("code",[t._v("<body>")]),t._v(" 元素中的页面内容后面，防止阻塞浏览器，以减少白屏时间。")]),t._v(" "),v("li",[t._v("尽量不使用异步脚本，如需使用则最好不要在加载期间修改 DOM，因为页面可能还未渲染完。")]),t._v(" "),v("li",[t._v("通过 DOM API 添加的脚本可以通过显式设置 "),v("code",[t._v("async")]),t._v(" 属性值为 "),v("code",[t._v("false")]),t._v(" 改为同步脚本，此时最好在文档头部显示声明 "),v("code",[t._v('<link rel="preload" href="xxx.js">')]),t._v(" 标签，以减少它带来的性能影响。")])])])}),[],!1,null,null,null);e.default=c.exports}}]);